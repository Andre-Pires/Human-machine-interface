<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>BarISTa</title>
	<link rel="stylesheet" type='text/css' href="css/normalize.css">
	<link rel="stylesheet" type='text/css' href="css/pure-min.css">
	<link rel="stylesheet" type='text/css' href="css/style.css">
	<link rel="stylesheet" href="css\font-awesome-4.0.3\css\font-awesome.min.css">
	<link rel="stylesheet" href="jquery-ui-1.10.3/css/ui-lightness/jquery-ui-1.10.3.custom.css">
	<script src="jquery-ui-1.10.3/js/jquery-1.9.1.js"></script>
	<script src="jquery-ui-1.10.3/js/jquery-ui-1.10.3.custom.js"></script>
	<script src="javascript.js"></script>
</head>
<body>
	<div class="pure-g-r">
		<div class="pure-u-1 min-width">
			<div class="pure-u-1">
				<header id="header">
					<h1 id="title">BarISTa</h1>
				</header>
			</div>

			<aside id="fillerdiv" class="pure-u-1-5">
				<iframe src="http://free.timeanddate.com/clock/i3vk7o26/n133/szw110/szh110/hbw0/hfc000/cf100/hgr0/hwc000/fav0/fiv0/mqcfff/mql15/mqw4/mqd94/mhcfff/mhl15/mhw4/mhd94/mmv0/hhcbbb/hmcddd" width="112" height="112" style="border-style:none;"></iframe>
				<!-- RELOGIO -->
				<div style="padding-top:2%; padding-down:25%" id="clockbox"></div>

				<br>

				<!-- AR CONDICIONADO -->
				<img src="resources/relogioMENOS.png" alt="menos" id="menos" class="arcondicionado"	onclick="regulaTemp(this);">
				<p class="arcondicionado" style="cursor: default;"	id="temperatura">20°C</p>
				<img src="resources/relogioMAIS.png" alt="mais" id="mais" class="arcondicionado"	onclick="regulaTemp(this);">

				<br>
				<!-- AC POPUP-->
				<div id="AC_msg_container" onclick="escondeMensagem();" class="ui-state-highlight ui-corner-all center" style="padding: 0 .7em; margin-right:17%; display:none">
					<p>
						<span class="ui-icon ui-icon-info" style="float: left; margin-right: .3em;"></span>
						<span id="mensagemAC"></span>
					</p>
				</div>

				<div style="padding-top: 25px;">
					<h5>A tocar:</h5>
					<span id="tocar"></span>
				</div>

			</aside>
			<!-- Corpo do meio (Botoes, Ementa, Musica) -->
			<div id="mdiv" class="pure-u-5-8">

				<div id="menu" class="pure-u-5-8 center" style="padding-left:0%; ">
					<img id="barista" class="menu" onClick="switchMenus();" src="resources/barista_button.png"	alt="barista">
					<img id="ementa" class="menu" onClick="switchEmenta(); checkMenusOpen(1);" src="resources/ementa_button.png"	alt="ementa" style="display:none">
					<img id="conta" class="menu" onClick="switchMenus(); checkMenusOpen(4);" src="resources/conta_button.png"	alt="conta" style="display:none">
					<img id="musica" class="menu" onClick="switchMusica(); checkMenusOpen(5);" src="resources/musica_button.png"	alt="musica" style="display:none">
					<img id="jogos" class="menu" onClick="switchMenus(); checkMenusOpen(2);" src="resources/jogos_button.png"	alt="jogos" style="display:none">
					<img id="voltar" class="menu" onClick="switchMenus(); checkMenusOpen(3);" src="resources/voltar_button.png"	alt="voltar" style="display:none"></div>

				<div id="wrapper_ementa" class="clear" style="display: none">

					<div id="ementa_tabela" class="pure-u-5-8 center" style="margin-left:7%; ">

						<h1  style="margin: 0 auto 0 40%;" class="clear-padding" align="left" >Ementa</h1>

						<div class="pure-u-2-5 align-left">
							<h3 style="padding-left:15%">Bebidas</h3>

							<ul id="lista_bebidas" class="clear-padding" style="padding-left:15%" >
								<li class="draggable item">Café - Preço: 0.5€</li>
								<li class="draggable item">Cerveja (33cl) - Preço: 1€</li>
								<li class="draggable item">Sangria (33cl) - Preço: 2€</li>
								<li class="draggable item">Shot - Preço: 2€</li>
							</ul>
						</div>

						<div class="pure-u-2-5 align-left"  style="padding-left: 14%; float:center"	>
							<h3>Comida</h3>
							<ul id="lista_comidas" class="clear-padding ">
								<li class="draggable item">Amendoins - Preço: 1€</li>
								<li class="draggable item">Tosta Mista - Preço: 2.5€</li>
								<li class="draggable item">Hamburguer - Preço: 5€</li>
								<li class="draggable item">Bitoque - Preço: 7€</li>
							</ul>
						</div>
					</div>

					<!-- AREA ARRASTO -->
					<div  class="pure-u-5-8 center" style="margin-left:7%; ">

						<div id="dialogApagar" title="Limpar o pedido?">
						  <p>Tem a certeza que quer apagar os itens selecionados?</p>
						</div>

						<div id="dialogComprar" title="Confirmar o pedido?">
						  <p>Tem a certeza que quer comprar os itens selecionados?</p>
						</div>

							<h3 style="color:#fff;">Arraste para a área abaixo para encomendar</h3>
						<div class="pure-u-5-8 center" style="margin-bottom:3%;">
							<button id="removeItens" style="margin-right:4%;" class="pure-button pure-button-disabled pure-button-xsmall" disabled="disabled">Remover itens</button>
							<button id="fazPedido" class="pure-button pure-button-disabled pure-button-xsmall" disabled="disabled">Fazer Pedido</button>
						</div>
						<div id="area_arrasto" class="pure-u-5-8 sortable stitched" align="left" style="padding-left:3%;">
						<p style="float:right; padding-right:5%">
						<span id="total_compra">Total: 0€</span>
						<span id="total_itens">Qtd: 0</span>
						</p></div>
					</div>
				</div>

				<div id="musica_tabela" class="pure-u-5-8 center" style="display:none; margin-left: 7%">

					<h1>Músicas</h1>
					<h3>Lista de Reprodução</h3>

					<ul class="clear-padding">
						<li id="playing" class="musicas" >
							Hans Zimmer - Time (Inception OST)
							<br>Duração : 4:31</li>
					</ul>

					<h3>Músicas Disponíveis</h3>

					<ul class="clear-padding">
						<li class="musicas" >
							SRV - Voodoo Child (Slight Return)
							<img id="pic0"  class="votar_bt align-middle" alt="votar" src="resources/votar_button.png" onClick="votarMusica('pic0');" width="9%" height="9%">
							<img id="15v"  class="nvotos align-middle" alt="15 votos" src="resources/15votos.png" width="9%" height="9%">
							<br>Duração : 7:59</li>

						<li class="musicas" >
							Eric Clapton - Cocaine
							<img id="pic1" class="votar_bt align-middle" alt="votar" src="resources/votar_button.png" onClick="votarMusica('pic1');" width="9%" height="9%">
							<img id="10v"  class="nvotos align-middle" alt="10 votos" src="resources/10votos.png" width="9%" height="9%">
							<br>Duração : 6:24</li>

						<li class="musicas" >
							Kavinsky - Nightcall
							<img id="pic2" class="votar_bt align-middle" alt="votar" src="resources/votar_button.png" onClick="votarMusica('pic2');" width="9%" height="9%">
							<img id="9v"  class="nvotos align-middle" alt="9 votos" src="resources/9votos.png" width="9%" height="9%">
							<br>Duração : 3:45</li>
					</ul>
				</div>
			</div>

			<div class="pure-u-1-12 center">

				<img class="ajuda" src="resources/lifebuoy-blue.png" onClick="openHelp(this)" alt="ajuda"  width="45%" height="45%">
				<p class="ajuda" style="letter-spacing:normal;" onClick="openHelp(this)">Ajuda</p>

				<div id="conta_talao" class="pure-u-1-12">
					<h6 id="conta_titulo">Conta</h6>
					<p>
						<span id="total_conta_itens">Qtd: <span>0</span></span>
						<span id="total_conta">Total: <span>0</span>€</span>
					</p>
				</div>
				<div id="botoesConta" class="pure-u-1-12">
					<div id="dialogConta" title="Detalhes da conta">
						<p id="dialogCorpoConta"></p>
					</div>
				<button id="detalhesConta"  class="pure-button pure-button-disabled pure-button-xsmall" disabled="disabled">Detalhes</button>
				</div>
			</div>

		</div>
	</div>

</body>
	<script type="text/javascript">window.onload=GetClock;</script>
	<script type="text/javascript">$("#playing").clone().appendTo($("#tocar"));</script>
	<!-- Actualiza o total e qtd -->
	<script type="text/javascript">
	var old = 0;
	$( "#area_arrasto" ).bind(
	{
		  mouseout: function()
		  {
		  	$("#area_arrasto").each(function () {
			    var sum = 0;
			    var itens = 0;
			    $(".item", this).each(function () {
			        var val = $.trim($(this).text());

			        if (val) {						
			        	/* para retirar a quantidade e o total */   
			        	val = val.replace(/[^:]*:/ , "");
			        	val = parseFloat(val.match(/[0-9]+.?[0-9]*/));
			            sum += !isNaN(val) ? val : 0;
			             ++itens;
			        }			       
			    });
			    if (old < sum) 
			    {
			    $("#removeItens").addClass("pure-button pure-button-xsmall").removeClass("pure-button-disabled");
			    $("#removeItens").prop('disabled', false);
			    $("#fazPedido").addClass("pure-button pure-button-xsmall").removeClass("pure-button-disabled");
			    $("#fazPedido").prop('disabled', false);
				};
			    $("#total_compra").html("Total: <span>" + sum + "</span>€");
			    $("#total_itens" ).html("Qtd: <span>" + itens + "</span>");
			});
  		  }
	});
	</script>
</html>